function r=r(x,Pa);   global tri;
c=[-311.7,858.5,-626.6,-290.7,654.1,-368.1,96.2,-12.5,1.0];
p=[ 31.11,...
    -134.4,...
    242.7,...
    -238.4 ,...
    138.8,...
    -49.04,...
    10.36,...
    -1.254,...
    0.1386];

SOC1=[1
0.94805
0.89609
0.84414
0.79219
0.74023
0.68828
0.63633
0.58438
0.53242
0.48047
0.42852
0.37657
0.32462
0.27267
0.22072
0.16876
0.11681
0.06486];
DCR1=[0.05763
0.05649
0.05803
0.05898
0.0581
0.05769
0.05884
0.05951
0.05978
0.06066
0.0616
0.06268
0.06362
0.06476
0.06665
0.0686
0.0717
0.07661
0.08725];

% if x>1
%     x=1.001;
%     if x<0
%         x=-0.001;
%     end;
% end;
if Pa.a=='O'
    r=c(1)*x^8+c(2)*x^7+c(3)*x^6+c(4)*x^5+c(5)*x^4+c(6)*x^3+c(7)*x^2+c(8)*x^1+c(9)*x^0;
elseif Pa.a == 'J'
    %r=p(1)*x^8+p(2)*x^7+p(3)*x^6+p(4)*x^5+p(5)*x^4+p(6)*x^3+p(7)*x^2+p(8)*x^1+p(9)*x^0;
    r=interp1(SOC1,DCR1,x,'spline');
elseif Pa.a=='M'
    r=0;
    for i=1:length(Pa.b)
        r=r+Pa.b(length(Pa.b)+1-i)*x^(i-1);
    end;
elseif Pa.a=='E'
    r=Pa.b(1)*exp(Pa.b(2)*x)+Pa.b(3)*exp(Pa.b(4)*x);
elseif Pa.a=='S'
    r=Pa.b(1)*sin(Pa.b(2)*x)+Pa.b(3);
    
end;
% if r>0.5
%     r=0.5
% end
%输入SOC 通过差值法返回r
